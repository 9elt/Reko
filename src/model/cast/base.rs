use chrono::Datelike;

pub fn date_to_index(date: chrono::NaiveDate) -> [usize; 2] {
    let year: i32 = date.year();
    if year < 1991 {
        [1, 0]
    } else if year < 2000 {
        [1, 1]
    } else if year < 2010 {
        [1, 2]
    } else if year < 2016 {
        [1, 3]
    } else {
        [1, 4]
    }
}

pub fn rating_to_index(rating: i16) -> [usize; 2] {
    if rating == 0 {
        [0, 6]
    } else {
        [2, (rating as usize - 1)]
    }
}

pub fn n_episodes_to_index(n_episodes: i16) -> [usize; 2] {
    if n_episodes == 0 {
        [0, 6]
    } else if n_episodes == 1 {
        [3, 0]
    } else if n_episodes < 9 {
        [3, 1]
    } else if n_episodes < 19 {
        [3, 2]
    } else if n_episodes < 33 {
        [3, 3]
    } else {
        [3, 4]
    }
}

pub fn genre_id_to_index(genre_id: i16) -> [usize; 2] {
    match genre_id {
        //genres
        1 => [4, 0],
        2 => [4, 1],
        5 => [4, 2],
        46 => [4, 3],
        28 => [4, 4],
        4 => [4, 5],
        8 => [4, 6],
        10 => [4, 7],
        26 => [4, 8],
        47 => [4, 9],
        14 => [4, 10],
        7 => [4, 11],
        22 => [4, 12],
        24 => [4, 13],
        36 => [4, 14],
        30 => [4, 15],
        37 => [4, 16],
        41 => [4, 17],
        9 => [4, 18],
        49 => [4, 19],
        12 => [4, 20],
        //themes
        50 => [5, 0],
        51 => [5, 1],
        52 => [5, 2],
        53 => [5, 3],
        54 => [5, 4],
        81 => [5, 5],
        55 => [5, 6],
        39 => [5, 7],
        56 => [5, 8],
        57 => [5, 9],
        58 => [5, 10],
        35 => [5, 11],
        59 => [5, 12],
        13 => [5, 13],
        60 => [5, 14],
        61 => [5, 15],
        62 => [5, 16],
        63 => [5, 17],
        64 => [5, 18],
        65 => [5, 19],
        66 => [5, 20],
        17 => [5, 21],
        18 => [5, 22],
        67 => [5, 23],
        38 => [5, 24],
        19 => [5, 25],
        6 => [5, 26],
        68 => [5, 27],
        69 => [5, 28],
        20 => [5, 29],
        70 => [5, 30],
        71 => [5, 31],
        40 => [5, 32],
        3 => [5, 33],
        72 => [5, 34],
        73 => [5, 35],
        74 => [5, 36],
        21 => [5, 37],
        23 => [5, 38],
        75 => [5, 39],
        29 => [5, 40],
        11 => [5, 41],
        31 => [5, 42],
        76 => [5, 43],
        77 => [5, 44],
        78 => [5, 45],
        32 => [5, 46],
        79 => [5, 47],
        80 => [5, 48],
        48 => [5, 49],
        //demographics
        43 => [6, 0],
        15 => [6, 1],
        42 => [6, 2],
        25 => [6, 3],
        27 => [6, 4],
        _ => [0, 6]
    }
}